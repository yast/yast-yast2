{

// testedfiles: WorkflowManager.ycp

include "testsuite.ycp";

map READ = $[
    "target" : $[
	"size" : 0,
    ],
];

map WRITE = $[];

map EXEC = $[
    "target" : $[
	"bash_output" : $["exit" : 0, "stdout" : "", "stderr" : ""],
    ],
];

TESTSUITE_INIT([READ, WRITE, EXEC], nil);

import "WorkflowManager";

list<map> workflows = [
  $[
    "defaults":$["archs":"i386,x86_64"],
    "label":"Preparation",
    "mode":"installation,update",
    "modules":[
      $["arguments":$["first_run":"yes"], "enable_back":"no", "enable_next":"yes", "label":"Language", "name":"language", "retranslate":true],
      $["label":"Perform Installation", "name":"finish"]
    ],
    "stage":"initial"
  ]
];

TEST(``(WorkflowManager::PrepareWorkflows(workflows)), [], nil);

}
