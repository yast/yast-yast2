/**
 * Module:
 *   NIS client configuration
 *
 * Summary:
 *   Testsuite
 *
 * Authors:
 *   Martin Vidner <mvidner@suse.cz>
 *
 * $Id$
 */
{
    include "testsuite.ycp";
    TESTSUITE_INIT ([ $[], $[], $[] ], nil);
    import "MailAliases";

    list(map) old1 = [
$["comment":" Basic system aliases that MUST be present.
","value":"root","key":"postmaster",] ,
$["comment":"","value":"postmaster","key":"mailer-daemon",] ,
$["comment":" amavis
","value":"root","key":"virusalert",] ,
$["comment":" General redirections for pseudo accounts in /etc/passwd.
","value":"root","key":"administrator",] ,
$["comment":"","value":"root","key":"daemon",] ,
$["comment":"","value":"root","key":"nobody",] ,
$["comment":" \"bin\" used to be in /etc/passwd
","value":"root","key":"bin",] ,
$["comment":" Further well-known aliases for dns/news/ftp/mail/fax/web/gnats.
","value":"news","key":"newsadm",] ,
$["comment":"","value":"news","key":"newsadmin",] ,
$["comment":"","value":"news","key":"usenet",] ,
];
    list(map) new1 = [
	$[ "key": "root", "value": "auser", "comment": " I am r00t!",],
	$[ "key": "B.User", "value": "buser", "comment": " blah",],
	$[ "key": "usenet", "value": "root", "comment": " direct",],
	$[ "key": "A.User", "value": "auser", "comment": "",],
	$[ "key": "newsadmin", "value": "root", "comment": " direct",],	
	];

    TEST (``(MailAliases::mergeTables ([], [])), [], nil);
    TEST (``(MailAliases::mergeTables (new1, [])), [], nil);
    TEST (``(MailAliases::mergeTables ([], old1)), [], nil);
    TEST (``(MailAliases::mergeTables (new1, old1)), [], nil);
}
